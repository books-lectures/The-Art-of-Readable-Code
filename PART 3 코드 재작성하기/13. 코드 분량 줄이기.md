# 13. 코드 분량 줄이기

## 그 기능을 구현하려고 애쓰지 마라 - 그럴 필요가 없다

⇒ 그 기능은 정말로 필요한 기능인지 생각하고 기능 구현을 최소화하자

## 요구 사항에 질문을 던지고 질문을 잘게 나누어 분석하라

⇒ “요구사항을 제거하기”와 “더 간단한 문제를 해결하기"가 제공하는 이점은 아무리 강조해도 지나치지 않는다.요구사항은 종종 미묘한 방식으로 서로를 간섭한다. 그렇기 때문에 원래 분량의 1/4에 해당하는 상대적으로 짧은 코드로 문제의 절반을 해결하는 경우도 종종 있다.

## 코드베이스를 작게 유지하기

- 일반적인 ‘유틸리티'를 많이 생성하여 중복된 코드를 제거하라
- 사용하지 않는 코드 혹은 필요없는 기능을 제거하라
- 프로젝트가 서로 분절된 하위프로젝트로 구성되게 해라
- 코드베이스의 ‘무게'를 항상 의식하여 가볍고 날렵하게 유지시켜라

## 자기 주변에 있는 라이브러리에 친숙해져라

그 함수는 진짜 만들어야 할까..? 내부 메소드는 없을까요?

중복된 요소를 제거하는 기능을 구현하고 싶을 때..

```python
def unique(elements):
    temp = {}
    for element in elements:
        temp[element] = None
    return temp.keys()

unique_elements = unique([2, 1, 2])
```

함수를 굳이 만들지 않아도 set를 쓰면 바로 중복되 요소를 제거할 수 있다

```python
unique_elements = list(set([2, 1, 2]))
```

```
💡 라이브러리를 이용하면 좋은 이유
⇒ 라이브러리를 사용하면 시간도 절약하고, 코드양이 줄어들기도 한다.
```

### 유닉스 도구를 활용하기

4xx 혹은 5xx 응답코드를 가장 많이 담는 url-paths를 찾는 프로그램은 C++나 자바 같은 언어를 이용하면 20줄 정도의 코드로 작성할 수 있을 것이다.

반면 유닉스에서는 명령행에 다음과 같이 작성하면 출분하다.

```bash
cat access.log | ask'{ print $5 " " $7}' | egrep "[45]..$ \
| sort | uniq -c | sort-nr
```

## 요약

다음과 같은 방법으로 새로운 코드를 작성하는 일을 피할 수 있다.

- 제품에 꼭 필요하지 않는 기능을 제거하고 과도한 작업을 피한다.
- 요구사항을 다시 생각해서 가장 단순한 형태의 문제를 찾아본다.
- 주기적으로 라이브러리 전체 API를 흝어봄으로써 표준 라이브러리에 친숙해진다.
